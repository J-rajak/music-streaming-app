{"version":3,"file":"static/js/548.db4bd19e.chunk.js","mappings":"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","sources":["features/Auth/LoginPage.jsx","utils/schema.js"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useLoginUserMutation } from \"./authApiSlice\";\r\nimport { FaMusic, FaGoogle, FaFacebook, FaTwitter } from \"react-icons/fa\";\r\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\r\nimport { loginSchema } from \"../../utils/schema\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport { setProvider } from \"./authSlice\";\r\nconst sitekey = import.meta.env.VITE_RECAPTCHA_SITE_KEY;\r\n\r\nconst LoginPage = () => {\r\n  const [formData, setFormData] = useState({ username: \"\", password: \"\" });\r\n  const selectedTheme = useSelector((state) => state.theme);\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [login, { isLoading, isError, error }] = useLoginUserMutation();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const recaptchaRef = useRef();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const { error } = loginSchema.validate(formData, {\r\n      abortEarly: false,\r\n      allowUnknown: false,\r\n      stripUnknown: false,\r\n    });\r\n\r\n    if (error) {\r\n      const errors = {};\r\n      error.details.forEach(\r\n        (detail) => (errors[detail.path[0]] = detail.message)\r\n      );\r\n      setValidationErrors(errors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const recaptchaToken = await recaptchaRef.current.executeAsync();\r\n      recaptchaRef.current.reset();\r\n      const { error } = await login({ ...formData, recaptchaToken });\r\n      if (error) {\r\n        console.error(error);\r\n      } else {\r\n        if (location?.state?.from === \"/signup\") {\r\n          navigate(\"/\");\r\n        } else {\r\n          navigate(-1);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleClick = (provider) => {\r\n    dispatch(setProvider(provider));\r\n  };\r\n\r\n  return (\r\n    <section className=\" text-gray-100 h-full\">\r\n      <Helmet prioritizeSeoTags>\r\n        <title>{`Log in - Jollify`}</title>\r\n        <link rel=\"canonical\" href={`https://jollify.vercel.app/login`} />\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Log in to Jollify to enjoy exclusive content and features. Our secure login process ensures that your personal information is protected.\"\r\n        />\r\n        <meta property=\"og:title\" content=\"Log in - Jollify\" />\r\n        <meta\r\n          property=\"og:url\"\r\n          content={`https://jollify-server.vercel.app/login`}\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content={`Log in to Jollify to enjoy exclusive content and features. Our secure login process ensures that your personal information is protected.`}\r\n        />\r\n        <meta name=\"twitter:title\" content=\"Log in - Jollify\" />\r\n        <meta\r\n          name=\"twitter:description\"\r\n          content=\"Log in to Jollify to enjoy exclusive content and features. Our secure login process ensures that your personal information is protected.\"\r\n        />\r\n      </Helmet>\r\n      <div className=\"flex flex-col justify-center h-full max-w-[768px] m-auto\">\r\n        <div className=\"mb-8\">\r\n          <span\r\n            className={`text-xs flex gap-1 items-center mb-2 tracking-widest drop-shadow-md font-bold contrast-100`}\r\n          >\r\n            <span className=\"filter-none\">\r\n              <FaMusic className={`text-${selectedTheme} `} />\r\n            </span>\r\n            <span className=\"saturate-200\">Jollify</span>\r\n          </span>\r\n          <h1 className=\"text-4xl md:text-6xl font-bold\">Log in</h1>\r\n        </div>\r\n        <div className=\"flex flex-col sm:flex-row w-full gap-2 sm:gap-0 p-1\">\r\n          <div className=\"sm:w-[45%] sm:pr-[10%]\">\r\n            <a\r\n              href=\"https://jollify-server.vercel.app/auth/google\"\r\n              onClick={() => handleClick(\"google\")}\r\n              className=\"provider flex items-center gap-4 rounded-md mb-2 p-2 bg-secondary-100 hover:bg-opacity-50 active:translate-y-[1px] transition-transform ease-in w-full\"\r\n            >\r\n              <FaGoogle />\r\n              <span>Log in with Google</span>\r\n            </a>\r\n            <button className=\"provider flex items-center gap-4 rounded-md mb-2 p-2 bg-secondary-100 hover:bg-opacity-50 active:translate-y-[1px] transition-transform ease-in w-full\">\r\n              <FaTwitter />\r\n              <span>Log in with Twitter</span>\r\n            </button>\r\n            <button className=\"provider flex items-center gap-4 rounded-md mb-2 p-2 bg-secondary-100 hover:bg-opacity-50 active:translate-y-[1px] transition-transform ease-in w-full\">\r\n              <FaFacebook />\r\n              <span>Log in with Facebook</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"sm:w-[0%]\">\r\n            <div className=\"flex items-center sm:flex-col  h-full\">\r\n              <span className=\"h-[2px] w-[2px] flex-grow bg-gray-400\"></span>\r\n              <span className=\"border-2 border-gray-400 p-2 rounded-lg\">\r\n                OR\r\n              </span>\r\n              <span className=\"h-[2px] w-[2px] flex-grow bg-gray-400\"></span>\r\n            </div>\r\n          </div>\r\n          <div className=\"sm:pl-[10%] sm:w-[55%]\">\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-1\">Username</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, username: e.target.value })\r\n                  }\r\n                  className=\"w-full bg-gray-200 rounded-md focus:outline-none focus:outline-gray-600 focus:-outline-offset-1 p-2  text-primary\"\r\n                  required\r\n                />\r\n                {validationErrors.username && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {validationErrors.username}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-1\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, password: e.target.value })\r\n                  }\r\n                  className=\"w-full bg-gray-200 rounded-md focus:outline-none focus:outline-gray-600 focus:-outline-offset-1 p-2  text-primary\"\r\n                  required\r\n                />\r\n                {validationErrors.password && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {validationErrors.password}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-6\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className={`bg-${selectedTheme} ${\r\n                    !isLoading\r\n                      ? `hover:bg-${selectedTheme}-50 active:translate-y-[1px]`\r\n                      : `bg-opacity-50 cursor-not-allowed`\r\n                  } w-full text-white text-center font-bold py-2 px-4 rounded`}\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? (\r\n                    <AiOutlineLoading3Quarters className=\"animate-spin m-auto text-2xl text-gray-400\" />\r\n                  ) : (\r\n                    `Log in`\r\n                  )}\r\n                </button>\r\n                <div className=\"text-xs mt-2\">\r\n                  This site is protected by reCAPTCHA and the Google{\" \"}\r\n                  <a\r\n                    href=\"https://policies.google.com/privacy\"\r\n                    className=\"text-blue-300 hover:decoration-blue-300 hover:underline\"\r\n                  >\r\n                    Privacy Policy\r\n                  </a>{\" \"}\r\n                  and{\" \"}\r\n                  <a\r\n                    href=\"https://policies.google.com/terms\"\r\n                    className=\"text-blue-300 hover:decoration-blue-300 hover:underline\"\r\n                  >\r\n                    Terms of Service\r\n                  </a>{\" \"}\r\n                  apply.\r\n                </div>\r\n                {isError && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {error?.data?.message ||\r\n                      error?.data?.error?.details[0].message}\r\n                  </span>\r\n                )}\r\n                <div className=\"mt-2 text-xs\">\r\n                  <ReCAPTCHA\r\n                    ref={recaptchaRef}\r\n                    sitekey={sitekey}\r\n                    size=\"invisible\"\r\n                    theme=\"dark\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <span>New to Jollify?</span>{\" \"}\r\n                <Link\r\n                  to={{\r\n                    pathname: `/signup`,\r\n                    state: { from: location.pathname },\r\n                  }}\r\n                  className={`text-${selectedTheme}-50`}\r\n                >\r\n                  Sign up now!\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import Joi from \"joi\";\r\nimport { tlds } from \"@hapi/tlds\";\r\n\r\nconst PASSWORD_REGEX = new RegExp(\r\n  \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!.@#$%^&*()])(?=.{8,})\"\r\n);\r\n\r\nexport const loginSchema = Joi.object().keys({\r\n  username: Joi.string().required(),\r\n  password: Joi.string().pattern(PASSWORD_REGEX).min(8).required().messages({\r\n    \"string.pattern.base\":\r\n      \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character (!.@#$%^&*())\",\r\n    \"string.min\": \"Password must be at least 8 characters long\",\r\n    \"any.required\": \"Password is required\",\r\n  }),\r\n});\r\n\r\nexport const signUpSchema = Joi.object().keys({\r\n  username: Joi.string().required(),\r\n  email: Joi.string()\r\n    .email({ tlds: { allow: tlds } })\r\n    .required(),\r\n  password: Joi.string().pattern(PASSWORD_REGEX).min(8).required().messages({\r\n    \"string.pattern.base\":\r\n      \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character (!.@#$%^&*())\",\r\n    \"string.min\": \"Password must be at least 8 characters long\",\r\n    \"any.required\": \"Password is required\",\r\n  }),\r\n});\r\n"],"names":["sitekey","import","LoginPage","_error$data","_error$data2","_error$data2$error","formData","setFormData","useState","username","password","selectedTheme","useSelector","state","theme","validationErrors","setValidationErrors","login","isLoading","isError","error","useLoginUserMutation","navigate","useNavigate","location","useLocation","recaptchaRef","useRef","dispatch","useDispatch","_jsxs","className","children","Helmet","prioritizeSeoTags","_jsx","rel","href","name","content","property","FaMusic","concat","onClick","handleClick","provider","setProvider","FaGoogle","FaTwitter","FaFacebook","onSubmit","async","event","preventDefault","loginSchema","validate","abortEarly","allowUnknown","stripUnknown","errors","details","forEach","detail","path","message","recaptchaToken","current","executeAsync","reset","_location$state","console","from","err","type","onChange","e","target","value","required","disabled","AiOutlineLoading3Quarters","data","ReCAPTCHA","ref","size","Link","to","pathname","PASSWORD_REGEX","RegExp","Joi","keys","pattern","min","messages","signUpSchema","email","tlds","allow"],"sourceRoot":""}