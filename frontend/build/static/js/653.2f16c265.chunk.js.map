{"version":3,"file":"static/js/653.2f16c265.chunk.js","mappings":"mPAUA,MAAMA,QAAUC,GAAAA,wBA0NhB,EAxNmBC,KAAO,IAADC,EAAAC,EAAAC,EACvB,MAAMC,GAAgBC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAC7CC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACVC,GAAQ,UAAEC,EAAS,QAAEC,EAAO,MAAEC,KAAWC,EAAAA,EAAAA,OACzCC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,SAAU,GACVC,MAAO,GACPC,SAAU,MAELC,EAAkBC,IAAuBL,EAAAA,EAAAA,UAAS,CAAC,IACnDM,EAAcC,IAAmBP,EAAAA,EAAAA,WAAS,GAC3CQ,GAAeC,EAAAA,EAAAA,UAkCrB,OACEC,EAAAA,EAAAA,MAAA,WAASC,UAAU,wBAAuBC,SAAA,EACxCF,EAAAA,EAAAA,MAACG,EAAAA,GAAM,CAACC,mBAAiB,EAAAF,SAAA,EACvBG,EAAAA,EAAAA,KAAA,SAAAH,SAAA,uBACAG,EAAAA,EAAAA,KAAA,QAAMC,IAAI,YAAYC,KAAI,uCAC1BF,EAAAA,EAAAA,KAAA,QACEG,KAAK,cACLC,QAAO,4NAETJ,EAAAA,EAAAA,KAAA,QAAMK,SAAS,WAAWD,QAAQ,uBAClCJ,EAAAA,EAAAA,KAAA,QACEK,SAAS,SACTD,QAAO,8CAETJ,EAAAA,EAAAA,KAAA,QACEK,SAAS,iBACTD,QAAO,4NAETJ,EAAAA,EAAAA,KAAA,QAAMG,KAAK,gBAAgBC,QAAQ,uBACnCJ,EAAAA,EAAAA,KAAA,QACEG,KAAK,sBACLC,QAAQ,+NAGZT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,MAAA,QACEC,UAAS,6FAA+FC,SAAA,EAExGG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,eAAcC,UAC5BG,EAAAA,EAAAA,KAACM,EAAAA,IAAO,CAACV,UAAS,QAAAW,OAAUrC,EAAa,UAE3C8B,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,eAAcC,SAAC,gBAEjCG,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,iCAAgCC,SAAC,gBAEjDG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,sCAAqCC,UAClDG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,QAAMa,SAtEKC,UACnBC,EAAMC,iBAEN,MAAM,MAAE9B,GAAU+B,EAAAA,EAAaC,SAAS9B,EAAU,CAChD+B,YAAY,EACZC,cAAc,EACdC,cAAc,IAGhB,GAAInC,EAAO,CACT,MAAMoC,EAAS,CAAC,EAKhB,OAJApC,EAAMqC,QAAQC,SACXC,GAAYH,EAAOG,EAAOC,KAAK,IAAMD,EAAOE,eAE/ChC,EAAoB2B,EAEtB,CAEA,IACE,MAAMM,QAAuB9B,EAAa+B,QAAQC,eAClDhC,EAAa+B,QAAQE,QACrB,MAAM,MAAE7C,SAAgBH,EAAO,IAAKK,EAAUwC,mBAC1C1C,EACF8C,QAAQ9C,MAAMA,GAEdP,EAAS,IAEb,CAAE,MAAOsD,GACPD,QAAQ9C,MAAM+C,EAChB,GAyCqC/B,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBG,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYC,SAAC,cAC9BG,EAAAA,EAAAA,KAAA,SACE6B,KAAK,OACL1B,KAAK,WACL2B,SAAWC,GACT/C,EAAY,IAAKD,EAAUG,SAAU6C,EAAEC,OAAOC,QAEhDrC,UAAU,oHACVsC,UAAQ,IAET7C,EAAiBH,WAChBc,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+CAA8CC,SAC3DR,EAAiBH,eAIxBS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBG,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYC,SAAC,WAC9BG,EAAAA,EAAAA,KAAA,SACE6B,KAAK,QACL1B,KAAK,QACL2B,SAAWC,GACT/C,EAAY,IAAKD,EAAUI,MAAO4C,EAAEC,OAAOC,QAE7CrC,UAAU,oHACVsC,UAAQ,IAET7C,EAAiBF,QAChBa,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+CAA8CC,SAC3DR,EAAiBF,YAIxBQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBG,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,aAAYC,SAAC,cAC9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCG,EAAAA,EAAAA,KAAA,SACE6B,KAAMtC,EAAe,OAAS,WAC9BY,KAAK,WACL2B,SAAWC,GACT/C,EAAY,IAAKD,EAAUK,SAAU2C,EAAEC,OAAOC,QAEhDrC,UAAU,oHACVsC,UAAQ,KAEVlC,EAAAA,EAAAA,KAAA,OACEJ,UAAU,8CACVuC,QAASA,IAAM3C,GAAiBD,GAAcM,SAE7CN,GACCS,EAAAA,EAAAA,KAACoC,EAAAA,IAAY,CAACxC,UAAU,mBAExBI,EAAAA,EAAAA,KAACqC,EAAAA,IAAqB,CAACzC,UAAU,uBAItCP,EAAiBD,WAChBY,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+CAA8CC,SAC3DR,EAAiBD,eAIxBO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBG,EAAAA,EAAAA,KAAA,UACE6B,KAAK,SACLjC,UAAS,MAAAW,OAAQrC,EAAa,KAAAqC,OAC3B5B,EAC4B,mCADnB,YAAA4B,OACMrC,EAAa,gCACS,kDAExCoE,SAAU3D,EAAUkB,SAEnBlB,GACCqB,EAAAA,EAAAA,KAACuC,EAAAA,IAAyB,CAAC3C,UAAU,+CAA+C,aAKxFD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,CAAC,qDACuB,KACnDG,EAAAA,EAAAA,KAAA,KACEE,KAAK,sCACLN,UAAU,0DAAyDC,SACpE,mBAEI,IAAI,MACL,KACJG,EAAAA,EAAAA,KAAA,KACEE,KAAK,oCACLN,UAAU,0DAAyDC,SACpE,qBAEI,IAAI,YAGVjB,IACCoB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,+CAA8CC,UACtD,OAALhB,QAAK,IAALA,GAAW,QAANd,EAALc,EAAO2D,YAAI,IAAAzE,OAAN,EAALA,EAAauD,WACP,OAALzC,QAAK,IAALA,GAAW,QAANb,EAALa,EAAO2D,YAAI,IAAAxE,GAAO,QAAPC,EAAXD,EAAaa,aAAK,IAAAZ,OAAb,EAALA,EAAoBiD,QAAQ,GAAGI,YAGrCtB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,UAC3BG,EAAAA,EAAAA,KAACyC,EAAAA,EAAS,CACRC,IAAKjD,EACL7B,QAASA,EACT+E,KAAK,YACLtE,MAAM,eAIZsB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BG,EAAAA,EAAAA,KAAA,QAAAH,SAAM,6BAAgC,KACtCG,EAAAA,EAAAA,KAAC4C,EAAAA,GAAI,CACHC,GAAI,CACFC,SAAS,SACT1E,MAAO,CAAE2E,KAAMvE,EAASsE,WAE1BlD,UAAS,QAAAW,OAAUrC,EAAa,OAAM2B,SACvC,0BAQH,C,2EC7Nd,MAAMmD,EAAiB,IAAIC,OACzB,kEAGWC,EAAcC,IAAAA,SAAaC,KAAK,CAC3ClE,SAAUiE,IAAAA,SAAajB,WACvB9C,SAAU+D,IAAAA,SAAaE,QAAQL,GAAgBM,IAAI,GAAGpB,WAAWqB,SAAS,CACxE,sBACE,iIACF,aAAc,8CACd,eAAgB,2BAIP3C,EAAeuC,IAAAA,SAAaC,KAAK,CAC5ClE,SAAUiE,IAAAA,SAAajB,WACvB/C,MAAOgE,IAAAA,SACJhE,MAAM,CAAEqE,KAAM,CAAEC,MAAOD,EAAAA,KACvBtB,WACH9C,SAAU+D,IAAAA,SAAaE,QAAQL,GAAgBM,IAAI,GAAGpB,WAAWqB,SAAS,CACxE,sBACE,iIACF,aAAc,8CACd,eAAgB,0B","sources":["features/Auth/SignupPage.jsx","utils/schema.js"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useRegisterUserMutation } from \"./authApiSlice\";\r\nimport { FaMusic } from \"react-icons/fa\";\r\nimport { AiOutlineEyeInvisible, AiOutlineEye } from \"react-icons/ai\";\r\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\r\nimport { signUpSchema } from \"../../utils/schema\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nconst sitekey = import.meta.env.VITE_RECAPTCHA_SITE_KEY;\r\n\r\nconst SignupPage = () => {\r\n  const selectedTheme = useSelector((state) => state.theme);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [signUp, { isLoading, isError, error }] = useRegisterUserMutation();\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const recaptchaRef = useRef();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const { error } = signUpSchema.validate(formData, {\r\n      abortEarly: false,\r\n      allowUnknown: false,\r\n      stripUnknown: false,\r\n    });\r\n\r\n    if (error) {\r\n      const errors = {};\r\n      error.details.forEach(\r\n        (detail) => (errors[detail.path[0]] = detail.message)\r\n      );\r\n      setValidationErrors(errors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const recaptchaToken = await recaptchaRef.current.executeAsync();\r\n      recaptchaRef.current.reset();\r\n      const { error } = await signUp({ ...formData, recaptchaToken });\r\n      if (error) {\r\n        console.error(error);\r\n      } else {\r\n        navigate(\"/\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\" text-gray-100 h-full\">\r\n      <Helmet prioritizeSeoTags>\r\n        <title>{`Sign up - Jollify`}</title>\r\n        <link rel=\"canonical\" href={`https://jollify.vercel.app/signup`} />\r\n        <meta\r\n          name=\"description\"\r\n          content={`Sign up to enjoy exclusive content and features on Jollify. Discover new music, create playlists, and connect with other music lovers. Our secure sign-up process ensures that your personal information is protected.`}\r\n        />\r\n        <meta property=\"og:title\" content=\"Sign up - Jollify\" />\r\n        <meta\r\n          property=\"og:url\"\r\n          content={`https://jollify-server.vercel.app/signup`}\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content={`Sign up to enjoy exclusive content and features on Jollify. Discover new music, create playlists, and connect with other music lovers. Our secure sign-up process ensures that your personal information is protected.`}\r\n        />\r\n        <meta name=\"twitter:title\" content=\"Sign up - Jollify\" />\r\n        <meta\r\n          name=\"twitter:description\"\r\n          content=\"Sign up to enjoy exclusive content and features on Jollify. Discover new music, create playlists, and connect with other music lovers. Our secure sign-up process ensures that your personal information is protected.\"\r\n        />\r\n      </Helmet>\r\n      <div className=\"flex flex-col justify-center h-full max-w-[450px] m-auto\">\r\n        <div className=\"mb-8\">\r\n          <span\r\n            className={`text-xs flex gap-1 items-center mb-2 tracking-widest drop-shadow-md font-bold contrast-100`}\r\n          >\r\n            <span className=\" filter-none\">\r\n              <FaMusic className={`text-${selectedTheme} `} />\r\n            </span>\r\n            <span className=\"saturate-200\">Jollify</span>\r\n          </span>\r\n          <h1 className=\"text-4xl md:text-6xl font-bold\">Sign up</h1>\r\n        </div>\r\n        <div className=\"flex flex-col sm:flex-row gap-2 p-1\">\r\n          <div className=\"email flex-grow\">\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-1\">Username</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, username: e.target.value })\r\n                  }\r\n                  className=\"w-full bg-gray-200 rounded-md focus:outline-none focus:outline-gray-600 focus:-outline-offset-1 p-2  text-primary\"\r\n                  required\r\n                />\r\n                {validationErrors.username && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {validationErrors.username}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-1\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, email: e.target.value })\r\n                  }\r\n                  className=\"w-full bg-gray-200 rounded-md focus:outline-none focus:outline-gray-600 focus:-outline-offset-1 p-2  text-primary\"\r\n                  required\r\n                />\r\n                {validationErrors.email && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {validationErrors.email}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block mb-1\">Password</label>\r\n                <div className=\"relative w-full rounded-md\">\r\n                  <input\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    name=\"password\"\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, password: e.target.value })\r\n                    }\r\n                    className=\"w-full bg-gray-200 rounded-md focus:outline-none focus:outline-gray-600 focus:-outline-offset-1 p-2  text-primary\"\r\n                    required\r\n                  />\r\n                  <div\r\n                    className=\"absolute right-2 top-1/3 text-black text-xl\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                  >\r\n                    {showPassword ? (\r\n                      <AiOutlineEye className=\"text-gray-900\" />\r\n                    ) : (\r\n                      <AiOutlineEyeInvisible className=\"text-gray-500\" />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {validationErrors.password && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {validationErrors.password}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-6\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className={`bg-${selectedTheme} ${\r\n                    !isLoading\r\n                      ? `hover:bg-${selectedTheme}-50 active:translate-y-[1px]`\r\n                      : `bg-opacity-50 cursor-not-allowed`\r\n                  } w-full text-white font-bold py-2 px-4 rounded`}\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? (\r\n                    <AiOutlineLoading3Quarters className=\"animate-spin m-auto text-2xl text-gray-400\" />\r\n                  ) : (\r\n                    `Sign up`\r\n                  )}\r\n                </button>\r\n                <div className=\"text-xs mt-2\">\r\n                  This site is protected by reCAPTCHA and the Google{\" \"}\r\n                  <a\r\n                    href=\"https://policies.google.com/privacy\"\r\n                    className=\"text-blue-300 hover:decoration-blue-300 hover:underline\"\r\n                  >\r\n                    Privacy Policy\r\n                  </a>{\" \"}\r\n                  and{\" \"}\r\n                  <a\r\n                    href=\"https://policies.google.com/terms\"\r\n                    className=\"text-blue-300 hover:decoration-blue-300 hover:underline\"\r\n                  >\r\n                    Terms of Service\r\n                  </a>{\" \"}\r\n                  apply.\r\n                </div>\r\n                {isError && (\r\n                  <span className=\"block text-sm mt-2 saturate-100 text-red-500\">\r\n                    {error?.data?.message ||\r\n                      error?.data?.error?.details[0].message}\r\n                  </span>\r\n                )}\r\n                <div className=\"mt-2 text-xs\">\r\n                  <ReCAPTCHA\r\n                    ref={recaptchaRef}\r\n                    sitekey={sitekey}\r\n                    size=\"invisible\"\r\n                    theme=\"dark\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <span>Already have an account?</span>{\" \"}\r\n                <Link\r\n                  to={{\r\n                    pathname: `/login`,\r\n                    state: { from: location.pathname },\r\n                  }}\r\n                  className={`text-${selectedTheme}-50`}\r\n                >\r\n                  Log in\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SignupPage;\r\n","import Joi from \"joi\";\r\nimport { tlds } from \"@hapi/tlds\";\r\n\r\nconst PASSWORD_REGEX = new RegExp(\r\n  \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!.@#$%^&*()])(?=.{8,})\"\r\n);\r\n\r\nexport const loginSchema = Joi.object().keys({\r\n  username: Joi.string().required(),\r\n  password: Joi.string().pattern(PASSWORD_REGEX).min(8).required().messages({\r\n    \"string.pattern.base\":\r\n      \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character (!.@#$%^&*())\",\r\n    \"string.min\": \"Password must be at least 8 characters long\",\r\n    \"any.required\": \"Password is required\",\r\n  }),\r\n});\r\n\r\nexport const signUpSchema = Joi.object().keys({\r\n  username: Joi.string().required(),\r\n  email: Joi.string()\r\n    .email({ tlds: { allow: tlds } })\r\n    .required(),\r\n  password: Joi.string().pattern(PASSWORD_REGEX).min(8).required().messages({\r\n    \"string.pattern.base\":\r\n      \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character (!.@#$%^&*())\",\r\n    \"string.min\": \"Password must be at least 8 characters long\",\r\n    \"any.required\": \"Password is required\",\r\n  }),\r\n});\r\n"],"names":["sitekey","import","SignupPage","_error$data","_error$data2","_error$data2$error","selectedTheme","useSelector","state","theme","navigate","useNavigate","location","useLocation","signUp","isLoading","isError","error","useRegisterUserMutation","formData","setFormData","useState","username","email","password","validationErrors","setValidationErrors","showPassword","setShowPassword","recaptchaRef","useRef","_jsxs","className","children","Helmet","prioritizeSeoTags","_jsx","rel","href","name","content","property","FaMusic","concat","onSubmit","async","event","preventDefault","signUpSchema","validate","abortEarly","allowUnknown","stripUnknown","errors","details","forEach","detail","path","message","recaptchaToken","current","executeAsync","reset","console","err","type","onChange","e","target","value","required","onClick","AiOutlineEye","AiOutlineEyeInvisible","disabled","AiOutlineLoading3Quarters","data","ReCAPTCHA","ref","size","Link","to","pathname","from","PASSWORD_REGEX","RegExp","loginSchema","Joi","keys","pattern","min","messages","tlds","allow"],"sourceRoot":""}