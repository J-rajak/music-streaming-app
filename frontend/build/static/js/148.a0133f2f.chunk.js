"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[148],{8257:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(4420),n=s(3329);const c=()=>{const e="rock"===(0,a.v9)((e=>e.theme))?"https://res.cloudinary.com/ojigs/image/upload/v1696593675/Jollify/jollify_rock_ff1o0d.gif":"https://res.cloudinary.com/ojigs/image/upload/v1696593603/Jollify/jollify_pop_gtzli0.gif";return(0,n.jsx)("div",{className:"h-full flex justify-center items-center",children:(0,n.jsx)("img",{src:e,alt:"",className:"w-24 h-12 md:w-52 md:h-24",width:"210px",height:"100px"})})}},6148:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(9595),n=s(7689),c=s(4420),l=s(1087),r=s(2202),o=s(7180),i=s(8243),d=s(4683),m=s(4312),x=s(3329);const u=e=>{let{song:t}=e;const{title:s,coverImage:a,artiste:n,album:u,genre:h,likes:g}=t,p=(0,c.v9)((e=>e.theme)),j=(0,c.I0)();return(0,x.jsx)(m.E.article,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-secondary-200 sm:h-[400px] rounded-md shadow-lg w-full bg-center bg-cover bg-no-repeat",style:{backgroundImage:"url(".concat(a||"",")")},children:(0,x.jsxs)("div",{className:" bg-primary h-full bg-opacity-60 inset-0 rounded-md flex flex-col sm:flex-row justify-center sm:justify-start items-start sm:items-center gap-10 p-6 text-white backdrop-blur-2xl",children:[(0,x.jsx)("div",{className:"w-48 rounded-md h-48 md:w-60 md:h-60 overflow-hidden bg-secondary-200 bg-center bg-cover bg-no-repeat shadow-md shadow-secondary-200",children:a?(0,x.jsx)("img",{src:a,alt:"".concat(s," Cover"),className:"w-full h-full object-cover rounded-md backdrop-blur-2xl"}):(0,x.jsx)(r.XL6,{className:"p-4 text-gray-400 w-full h-full object-cover backdrop-blur-2xl"})}),(0,x.jsxs)("article",{className:"flex flex-col",children:[(0,x.jsx)("h2",{className:"text-2xl text-".concat(p,"-50 font-bold mb-4"),children:s.toUpperCase()}),(0,x.jsxs)("p",{className:"mt-2",children:[(0,x.jsx)("span",{className:"text-gray-400 mr-2",children:"Artiste: "})," ",(0,x.jsx)(l.rU,{to:"/artistes/".concat(n._id),className:"text-gray-200 hover:text-".concat(p,"-50 "),children:n.name})]}),u&&(0,x.jsxs)("p",{className:"mt-2",children:[(0,x.jsx)("span",{className:"text-gray-400 mr-2",children:"Album: "})," ",(0,x.jsx)(l.rU,{to:"/albums/".concat(u._id),className:"text-gray-200 hover:text-".concat(p,"-50 "),children:u.title})]}),(0,x.jsxs)("p",{className:"mt-2",children:[(0,x.jsx)("span",{className:"text-gray-400 mr-2",children:"Genre:"})," ",(0,x.jsx)("span",{className:"text-gray-200 hover:text-${selectedTheme}-50",children:h})]}),(0,x.jsxs)("div",{className:"mt-6 flex items-stretch h-10 gap-4",children:[(0,x.jsx)("button",{onClick:()=>{j((0,d.jX)({queue:[t]})),j((0,d.Lc)(!0))},className:"inline-flex items-center bg-".concat(p,"-50 bg-opacity-80 active:bg-opacity-100 active:translate-y-1 rounded-lg transition duration-300 ease-in-out py-1 px-2 md:px-4"),children:(0,x.jsx)("span",{className:"mr-2 text-xl",children:"Play"})}),(0,x.jsxs)("span",{className:" bg-secondary-200 active:bg-opacity-50 rounded-lg transition duration-300 ease-in-out py-1 px-2 md:px-4 h-full inline-flex items-center",children:[(0,x.jsx)(o.Z,{songId:t._id,type:"song"}),(0,x.jsx)("span",{className:"ml-2",children:g&&g.length})]}),(0,x.jsx)("span",{className:"text-white bg-secondary-200 active:bg-opacity-50 rounded-lg transition duration-300 ease-in-ou px-3 py-1 h-full inline-flex items-center",children:(0,x.jsx)(i.Z,{songId:t._id})})]})]})]})})};var h=s(8703),g=s.n(h);const p=e=>{let{lyrics:t}=e;const s=g().sanitize(t);return(0,x.jsxs)("section",{className:"mt-6",children:[(0,x.jsx)("h1",{className:"text-xl md:text-2xl mb-4 md:font-semibold",children:"Lyrics"}),t?(0,x.jsx)("article",{dangerouslySetInnerHTML:{__html:s}}):(0,x.jsx)("p",{className:"italic",children:"No Lyrics yet for this song"})]})};var j=s(2791),f=s(4220);const y=e=>{let{createdAt:t}=e;const[s,a]=(0,j.useState)("");return(0,j.useEffect)((()=>{const e=()=>{const e=new Date(t),s=new Date-e,n=6e4,c=36e5,l=24*c;if(s<n)a("just now");else if(s<c){const e=Math.floor(s/n);a("".concat(e," m"))}else if(s<l){const e=Math.floor(s/c);a("".concat(e," h"))}else{const e=Math.floor(s/l);a("".concat(e," d"))}};e();const s=setInterval(e,6e4);return()=>clearInterval(s)}),[t]),(0,x.jsx)("span",{children:s})},v=e=>{let{comments:t,songId:s}=e;const[n,{isLoading:o}]=(0,a.Mr)(),[i,d]=(0,j.useState)(""),[m,u]=(0,j.useState)(null),h=(0,c.v9)((e=>e.theme)),{isAuthenticated:p}=(0,c.v9)((e=>e.auth)),v=(0,j.useRef)(null),b=(0,c.I0)();return(0,x.jsxs)("section",{className:"mt-6",children:[(0,x.jsx)("h2",{className:"text-xl md:text-2xl mb-4 md:font-semibold",children:"Comments"}),(0,x.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!p)return b((0,f.PJ)("add a comment")),void b((0,f.$z)());if(!i)return void u("Please write a comment");const t=g().sanitize(i),{error:a}=await n({songId:s,body:{text:t}});a&&console.log(a),d(""),v.current.value=null},children:(0,x.jsxs)("div",{className:"mb-8 lg:w-3/4 flex flex-col justify-center items-start",children:[(0,x.jsx)("textarea",{ref:v,className:"w-full lg:h-36 p-2 border bg-secondary-100 bg-opacity-80 focus:outline-none focus:outline-gray-600 focus:outline-offset-1 border-gray-500 rounded-lg resize-none",placeholder:"Add a comment...",onChange:e=>d(e.target.value.trim())}),m&&(0,x.jsx)("span",{className:"block text-sm mt-2 saturate-100 text-red-500",children:m}),(0,x.jsx)("button",{type:"submit",className:"bg-".concat(h," ").concat(o?"bg-opacity-90 cursor-not-allowed":"hover:bg-".concat(h,"-50 active:bg-opacity-50"),"  py-2 px-4 rounded-lg mt-4 self-end"),disabled:o,children:o?"Loading...":"Add Comment"})]})}),t&&t.length>0?(0,x.jsx)("article",{children:t.map(((e,s)=>{var a;return(0,x.jsxs)("div",{className:"flex items-start gap-4 mb-6 lg:w-3/4",children:[(0,x.jsx)("div",{className:"w-14 h-14 rounded-full",children:(0,x.jsx)(l.rU,{to:"/users/".concat(e.user._id),children:null!==e&&void 0!==e&&null!==(a=e.user)&&void 0!==a&&a.image?(0,x.jsx)("img",{src:null===e||void 0===e?void 0:e.user.image,alt:null===e||void 0===e?void 0:e.user.username,className:"w-12 h-12 rounded-full"}):(0,x.jsx)(r.m3W,{className:"w-12 h-12 pt-2 text-gray-400 rounded-full"})})}),(0,x.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold",children:(0,x.jsx)(l.rU,{to:"/users/".concat(e.user._id),className:"hover:underline hover:decoration-2 hover:underline-offset-4 hover:decoration-".concat(h),children:null===e||void 0===e?void 0:e.user.username})}),(0,x.jsx)("p",{className:"text-gray-300 mt-2",children:null===e||void 0===e?void 0:e.text}),(0,x.jsx)("p",{className:"text-gray-400 mt-2",children:(0,x.jsx)(y,{createdAt:e.createdAt})}),s!==t.length-1&&(0,x.jsx)("p",{className:"h-[1px] bg-gray-600 mt-6"})]})]},e._id)}))}):(0,x.jsx)("p",{className:"italic",children:"No comment yet. Be the first to add a comment"})]})};var b=s(8257),N=s(8794),w=s(2703),_=s(3050);const k=()=>{const{id:e}=(0,n.UO)(),{data:t,isLoading:s,isSuccess:c,isError:l,error:r}=(0,a.E_)(e);return s?(0,x.jsx)(b.Z,{}):l?(0,x.jsx)(N.Z,{error:r}):(0,x.jsx)(x.Fragment,{children:c&&(0,x.jsxs)("section",{className:" text-gray-200",children:[(0,x.jsxs)(_.ql,{prioritizeSeoTags:!0,children:[(0,x.jsx)("title",{children:"".concat(t.artiste.name," - ").concat(t.title," MP3 Stream on Jollify")}),(0,x.jsx)("link",{rel:"canonical",href:"https://jollify.vercel.app/songs/".concat(t._id)}),(0,x.jsx)("meta",{name:"description",content:"Stream ".concat(t.title," by ").concat(t.artiste.name," on Jollify and enjoy other amazing music collections. Released ").concat((0,w.p6)(t.releaseDate))}),(0,x.jsx)("meta",{property:"og:title",content:"".concat(t.artiste.name," - ").concat(t.title," MP3 Stream on Jollify")}),(0,x.jsx)("meta",{property:"og:description",content:"Stream ".concat(t.title," by ").concat(t.artiste.name," on Jollify and enjoy other amazing music collections. Released ").concat((0,w.p6)(t.releaseDate))}),(0,x.jsx)("meta",{property:"og:image",content:t.coverImage||""}),(0,x.jsx)("meta",{property:"og:url",content:"https://jollify-server.vercel.app/songs/".concat(t._id)}),(0,x.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,x.jsx)("meta",{name:"twitter:title",content:"".concat(t.artiste.name," - ").concat(t.title," MP3 Stream on Jollify")}),(0,x.jsx)("meta",{name:"twitter:description",content:"Stream ".concat(t.title," by ").concat(t.artiste.name," on Jollify and enjoy other amazing music collections. Released ").concat((0,w.p6)(t.releaseDate))}),(0,x.jsx)("meta",{name:"twitter:image",content:t.coverImage||""})]}),(0,x.jsx)(u,{song:t}),(0,x.jsx)(p,{lyrics:t.lyrics}),(0,x.jsx)(v,{comments:t.comments,songId:t._id})]})})}}}]);
//# sourceMappingURL=148.a0133f2f.chunk.js.map